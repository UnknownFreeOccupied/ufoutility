find_package(Doxygen REQUIRED dot)
# include("${PROJECT_SOURCE_DIR}/3rdparty/doxygen/doxygen.cmake")

if (DOXYGEN_FOUND)
	message("Generating documentation")
	
	set(DOXYGEN_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/docs)
  # set(DOXYGEN_USE_MDFILE_AS_MAINPAGE "${PROJECT_SOURCE_DIR}/README.md")
  # set(DOXYGEN_PROJECT_LOGO "${CMAKE_SOURCE_DIR}/doc/images/o2_logo.png")
	set(DOXYGEN_PROJECT_NAME "UFOUtility")
	set(DOXYGEN_COLLABORATION_GRAPH YES)
	set(DOXYGEN_EXTRACT_ALL YES)
	set(DOXYGEN_CLASS_DIAGRAMS YES)
	set(DOXYGEN_HIDE_UNDOC_RELATIONS NO)
	set(DOXYGEN_HAVE_DOT YES)
	set(DOXYGEN_CLASS_GRAPH YES)
	set(DOXYGEN_CALL_GRAPH YES)
	set(DOXYGEN_CALLER_GRAPH YES)
	set(DOXYGEN_COLLABORATION_GRAPH YES)
	set(DOXYGEN_BUILTIN_STL_SUPPORT YES)
	set(DOXYGEN_EXTRACT_PRIVATE YES)
	set(DOXYGEN_EXTRACT_PACKAGE YES)
	set(DOXYGEN_EXTRACT_STATIC YES)
	set(DOXYGEN_EXTRACT_LOCALMETHODS YES)
	set(DOXYGEN_UML_LOOK YES)
	set(DOXYGEN_UML_LIMIT_NUM_FIELDS 50)
	set(DOXYGEN_TEMPLATE_RELATIONS YES)
	set(DOXYGEN_DOT_GRAPH_MAX_NODES 100)
	set(DOXYGEN_MAX_DOT_GRAPH_DEPTH 0)
	set(DOXYGEN_DOT_TRANSPARENT YES)

	doxygen_add_docs(doc 
		${PROJECT_SOURCE_DIR}/include ${PROJECT_SOURCE_DIR}/src
		COMMENT "Generating doxygen documentation for ${PROJECT_NAME}"
	)

else()
	message(WARNING "Doxygen need to be installed to generate the doxygen documentation")
endif()